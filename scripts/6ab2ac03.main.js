"use strict";var fastgrades=angular.module("fastgrades",["ngRoute"]);fastgrades.factory("exam",function(){var a=!1,b=null,c=null;return{answerKey:function(a){return a?void(b=a):b},title:function(a){return a?void(c=a):c},initializeExam:function(a){console.log("creating "+a+" questions"),b=new Array(a);for(var c=0;c<b.length;c++)b[c]={value:null}},saveAnswerKey:function(){a=!0}}}),fastgrades.controller("IntroCtrl",function(){}),fastgrades.controller("StepOneCtrl",["$scope","$location","exam",function(a,b,c){function d(){b.url("step-two")}a.callInitializeExam=function(){c.initializeExam(a.numQuestions),c.title(a.title),d()}}]),fastgrades.controller("StepTwoCtrl",["$scope","$location","exam",function(a,b,c){function d(){b.url("step-three")}if(!c.answerKey())throw"Exam's answer key must be initialized by step two";a.answerKey=c.answerKey(),a.callSaveAnswerKey=function(){c.saveAnswerKey(),d()}}]),fastgrades.controller("StepThreeCtrl",["$scope","exam",function(a,b){a.examUrl="print-exam.html?title="+b.title()+"&numQuestions="+b.answerKey().length}]),fastgrades.controller("PrintExamCtrl",["$scope",function(a){function b(a){a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var b=new RegExp("[\\?&]"+a+"=([^&#]*)"),c=b.exec(location.search);return null==c?"":decodeURIComponent(c[1].replace(/\+/g," "))}var c=parseInt(b("numQuestions"),10),d=b("title");if(!c)throw"Query parameter numQuestions is required";if(!d)throw"Query parameter title is required";a.questions=new Array(c),a.title=d}]),fastgrades.config(["$routeProvider","$locationProvider",function(a,b){a.when("/",{templateUrl:"views/intro.html",controller:"IntroCtrl"}).when("/step-one",{templateUrl:"views/step-one.html",controller:"StepOneCtrl"}).when("/step-two",{templateUrl:"views/step-two.html",controller:"StepTwoCtrl"}).when("/step-three",{templateUrl:"views/step-three.html",controller:"StepThreeCtrl"}).otherwise({redirectTo:"/"}),b.html5Mode(!1)}]);var fastgrades=angular.module("fastgrades");fastgrades.config(["$routeProvider","$locationProvider",function(a,b){a.when("/",{templateUrl:"views/intro.html",controller:"IntroCtrl"}).when("/step-one",{templateUrl:"views/step-one.html",controller:"StepOneCtrl"}).when("/step-two",{templateUrl:"views/step-two.html",controller:"StepTwoCtrl"}).when("/step-three",{templateUrl:"views/step-three.html",controller:"StepThreeCtrl"}).otherwise({redirectTo:"/"}),b.html5Mode(!1)}]);